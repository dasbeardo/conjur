<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>◉ CONJUR.IN ◉</title>
  <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==">
  <style>
    @import url('data:text/css;charset=utf-8;base64,');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --term-green: #00ff41;
      --term-red: #ff0066;
      --term-purple: #ff00ff;
      --term-yellow: #ffff00;
      --term-cyan: #00ffff;
    }
    
    body {
      background: #000000;
      color: var(--term-green);
      font-family: 'Courier New', 'Monaco', 'Menlo', monospace;
      font-size: 14px;
      line-height: 1.4;
      overflow: hidden;
      cursor: none;
    }
    
    /* CRT Monitor Effect */
    body::before {
      content: " ";
      display: block;
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
      z-index: 2;
      background-size: 100% 2px, 3px 100%;
      pointer-events: none;
    }
    
    .terminal-container {
      height: 100vh;
      padding: 20px;
      position: relative;
      overflow-y: auto;
      background: 
        radial-gradient(ellipse at center, rgba(0,255,65,0.05) 0%, transparent 50%),
        repeating-linear-gradient(
          0deg,
          transparent,
          transparent 2px,
          rgba(0,255,65,0.03) 2px,
          rgba(0,255,65,0.03) 4px
        );
    }
    
    .scanlines {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: repeating-linear-gradient(
        0deg,
        transparent 0px,
        rgba(0,255,65,0.1) 1px,
        transparent 2px
      );
      pointer-events: none;
      animation: scanlines 0.1s linear infinite;
      z-index: 3;
    }
    
    @keyframes scanlines {
      0% { transform: translateY(0px); }
      100% { transform: translateY(4px); }
    }
    
    .terminal-output {
      min-height: calc(100vh - 120px);
      white-space: pre-wrap;
      word-wrap: break-word;
      font-family: inherit;
    }
    
    .output-line {
      margin: 2px 0;
      animation: textReveal 0.05s ease-out;
      position: relative;
    }
    
    @keyframes textReveal {
      from { opacity: 0; transform: translateX(-10px); }
      to { opacity: 1; transform: translateX(0); }
    }
    
    .input-line {
      position: fixed;
      bottom: 20px;
      left: 20px;
      right: 20px;
      display: flex;
      align-items: center;
      background: rgba(0,0,0,0.8);
      padding: 5px;
      border: 1px solid var(--term-green);
      z-index: 10;
    }
    
    .prompt {
      color: var(--term-green);
      margin-right: 5px;
      user-select: none;
    }
    
    #command-input {
      flex: 1;
      background: transparent;
      border: none;
      color: var(--term-green);
      font-family: inherit;
      font-size: inherit;
      outline: none;
      caret-color: transparent;
    }
    
    .cursor {
      color: var(--term-green);
      animation: blink 1s infinite;
      margin-left: 2px;
    }
    
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }
    
    /* Corruption Effects */
    .glitch {
      animation: glitch 0.3s ease-in-out;
    }
    
    @keyframes glitch {
      0%, 100% { 
        transform: translate(0);
        filter: hue-rotate(0deg);
      }
      10% { 
        transform: translate(-2px, 2px);
        filter: hue-rotate(90deg);
      }
      20% { 
        transform: translate(-2px, -2px);
        filter: hue-rotate(180deg);
      }
      30% { 
        transform: translate(2px, 2px);
        filter: hue-rotate(270deg);
      }
      40% { 
        transform: translate(2px, -2px);
        filter: hue-rotate(360deg);
      }
      50% { 
        transform: translate(-2px, 2px) skew(5deg);
        filter: hue-rotate(45deg);
      }
      60% { 
        transform: translate(-2px, -2px) skew(-5deg);
        filter: hue-rotate(135deg);
      }
      70% { 
        transform: translate(2px, 2px) scale(0.98);
        filter: hue-rotate(225deg);
      }
      80% { 
        transform: translate(2px, -2px) scale(1.02);
        filter: hue-rotate(315deg);
      }
      90% { 
        transform: translate(-2px, 2px) rotate(1deg);
        filter: hue-rotate(180deg);
      }
    }
    
    .corrupted-text {
      color: var(--term-red);
      text-shadow: 
        1px 0 0 var(--term-cyan),
        -1px 0 0 var(--term-purple),
        0 1px 0 var(--term-yellow),
        0 -1px 0 var(--term-green);
      animation: textCorruption 2s infinite;
    }
    
    @keyframes textCorruption {
      0%, 100% { 
        transform: translate(0);
        filter: brightness(1);
      }
      25% { 
        transform: translate(1px, -1px);
        filter: brightness(1.2);
      }
      50% { 
        transform: translate(-1px, 1px);
        filter: brightness(0.8);
      }
      75% { 
        transform: translate(1px, 1px);
        filter: brightness(1.1);
      }
    }
    
    .error-text {
      color: #ff0000;
      text-shadow: 0 0 10px #ff0000;
      animation: flicker 0.5s infinite alternate;
    }
    
    @keyframes flicker {
      0% { opacity: 1; }
      100% { opacity: 0.7; }
    }
    
    .system-message {
      color: var(--term-yellow);
      font-weight: bold;
    }
    
    .entity-message {
      color: var(--term-purple);
      text-shadow: 0 0 5px var(--term-purple);
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.02); opacity: 0.8; }
    }
    
    /* Custom cursor */
    .custom-cursor {
      position: fixed;
      width: 20px;
      height: 20px;
      border: 2px solid var(--term-green);
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      mix-blend-mode: difference;
      transition: transform 0.1s ease;
    }
    
    /* Notification styles */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 0, 102, 0.9);
      color: #fff;
      padding: 10px 15px;
      border-radius: 5px;
      font-size: 12px;
      z-index: 1000;
      animation: slideIn 0.3s ease-out;
    }
    
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    /* Screen distortion effects */
    .screen-distortion {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: 
        linear-gradient(45deg, transparent 48%, rgba(255,0,0,0.1) 49%, rgba(255,0,0,0.1) 51%, transparent 52%),
        linear-gradient(-45deg, transparent 48%, rgba(0,255,0,0.1) 49%, rgba(0,255,0,0.1) 51%, transparent 52%);
      pointer-events: none;
      z-index: 100;
      opacity: 0;
      animation: distortion 0.1s ease-in-out;
    }
    
    @keyframes distortion {
      0%, 100% { opacity: 0; }
      50% { opacity: 1; }
    }
    
    /* Reality break effect */
    .reality-break {
      animation: realityBreak 5s ease-in-out;
    }
    
    @keyframes realityBreak {
      0% { transform: rotate(0deg) scale(1); filter: blur(0px); }
      10% { transform: rotate(1deg) scale(1.02); filter: blur(1px); }
      20% { transform: rotate(-1deg) scale(0.98); filter: blur(2px); }
      30% { transform: rotate(2deg) scale(1.05); filter: blur(0px) hue-rotate(90deg); }
      40% { transform: rotate(-2deg) scale(0.95); filter: blur(3px) hue-rotate(180deg); }
      50% { transform: rotate(0deg) scale(1.1); filter: blur(5px) hue-rotate(270deg); }
      60% { transform: rotate(3deg) scale(0.9); filter: blur(2px) hue-rotate(360deg); }
      70% { transform: rotate(-1deg) scale(1.03); filter: blur(1px) contrast(2); }
      80% { transform: rotate(1deg) scale(0.97); filter: blur(0px) brightness(2); }
      90% { transform: rotate(0deg) scale(1.01); filter: blur(0px) saturate(0); }
      100% { transform: rotate(0deg) scale(1); filter: blur(0px); }
    }
    
    /* Mobile responsiveness */
    @media (max-width: 768px) {
      body { font-size: 12px; }
      .terminal-container { padding: 10px; }
      .input-line { bottom: 10px; left: 10px; right: 10px; }
    }
    
    /* High corruption styles */
    .corruption-extreme .terminal-output {
      animation: extremeCorruption 10s infinite;
    }
    
    @keyframes extremeCorruption {
      0%, 100% { transform: skew(0deg); filter: contrast(1); }
      25% { transform: skew(0.5deg); filter: contrast(1.5); }
      50% { transform: skew(-0.5deg); filter: contrast(0.8); }
      75% { transform: skew(0.3deg); filter: contrast(1.2); }
    }
    
    .blood-text {
      color: #8B0000;
      text-shadow: 0 0 3px #8B0000, 0 2px 5px rgba(139, 0, 0, 0.5);
      animation: drip 3s ease-in-out infinite;
    }
    
    @keyframes drip {
      0%, 90% { transform: translateY(0); }
      95% { transform: translateY(2px); }
      100% { transform: translateY(0); }
    }
    
    .zalgo {
      position: relative;
      display: inline-block;
    }
    
    .zalgo::before,
    .zalgo::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0.8;
    }
    
    .zalgo::before {
      animation: zalgoAnim 0.1s infinite;
      color: var(--term-red);
      z-index: -1;
    }
    
    .zalgo::after {
      animation: zalgoAnim 0.1s infinite reverse;
      color: var(--term-cyan);
      z-index: -2;
    }
    
    @keyframes zalgoAnim {
      0% { top: 0; left: 0; }
      25% { top: -1px; left: 1px; }
      50% { top: 1px; left: -1px; }
      75% { top: -1px; left: -1px; }
      100% { top: 0; left: 0; }
    }
  </style>
</head>
<body>
  <div class="custom-cursor" id="customCursor"></div>
  <div class="scanlines"></div>
  <div class="terminal-container">
    <div class="terminal-output" id="terminal-output"></div>
  </div>
  <div class="input-line">
    <span class="prompt" id="prompt">visitor@conjur.in:~$ </span>
    <input type="text" id="command-input" autocomplete="off" spellcheck="false" autofocus>
    <span class="cursor">█</span>
  </div>

  <script src="script/state.js"></script>
  <script src="script/audio.js"></script>
  <script src="script/peer.js"></script>
  <script src="script/reality.js"></script>
  <script src="script/commands.js"></script>
  <script src="script/helpers.js"></script>
  <script src="script/terminal.js"></script>
  <script src="script/utils.js"></script>
  <script src="script/cursor.js"></script>
  <script src="script/console.js"></script>
  <script src="script/init.js"></script>
</body>
</html>